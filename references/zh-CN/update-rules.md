# 更新规则

只有当变化足够持久、并且对未来会话有价值时，才更新 OmniContext。

## 通常应更新

- 产生有意义的实现进展后更新 `handoff.md`
- 开放工作发生变化时更新 `todo.md`
- 做出非平凡技术选择时更新 `decisions.md`
- 项目结构或入口点变化时更新 `overview.md`
- 如果使用 Git，在一个功能或一组连贯改动完成后立即做一次最小单提交

## 通常不应更新

- 临时调试输出
- 原始命令日志
- 密钥、凭证或 Token
- 代码里已经一眼可见、且不会明显节省探索成本的事实

## 写作标准

- 优先使用短而事实化的条目
- 记录“发生了什么变化”以及“为什么重要”
- 需要时使用精确的文件名或命令名
- 避免很快就会过时的叙述性大段文字

## Git 提交标准

- 一个功能完成后做一次提交，不要拖成大杂烩
- 一个提交只包含一个清晰主题
- 提交说明要能概括本次功能或规则变化
- 不要把无关格式化、顺手重构、临时调试文件混进同一个提交
- 这样在出现问题时，才能更容易回归和定位

## 交接标准

每个 `handoff.md` 都应让下面这些问题容易回答：

- 当前真实状态是什么？
- 最近完成了什么？
- 下一步应该做什么？
- 现在有什么阻塞或风险？
